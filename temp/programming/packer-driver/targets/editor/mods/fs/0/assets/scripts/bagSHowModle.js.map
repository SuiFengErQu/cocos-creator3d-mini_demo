{"version":3,"sources":["file:///D:/CocosProject/testDemo/cocos3d20211013/20211014/demolist2/assets/scripts/bagSHowModle.ts"],"names":["_decorator","Component","Node","RenderTexture","Sprite","CameraComponent","quat","math","ccclass","property","BagSHowModle","start","node","getComponent","targetTexture","text","modleUI","spriteFrame","texture","touchNode","on","EventType","TOUCH_START","touchStart","TOUCH_MOVE","touchMove","e","startX","getLocationX","dis","qu1","qu2","ro","Quat","rotateY","playr","rotate"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,a,OAAAA,a;AAAeC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,e,OAAAA,e;AAAiBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;OAC9E;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;8BAGaU,Y,WADZF,OAAO,CAAC,cAAD,C,UASHC,QAAQ,CAACN,aAAD,C,UAERM,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACL,MAAD,C,UAERK,QAAQ,CAACP,IAAD,C,oCAhBb,MACaQ,YADb,SACkCT,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,0CAkBhC,CAlBgC;AAAA;;AAoBxCU,QAAAA,KAAK,GAAI;AACL;AACA,eAAKC,IAAL,CAAUC,YAAV,CAAuBR,eAAvB,EAAwCS,aAAxC,GAAwD,KAAKC,IAA7D;AAEA,eAAKC,OAAL,CAAaC,WAAb,CAAyBC,OAAzB,GAAmC,KAAKH,IAAxC;AAEA,eAAKI,SAAL,CAAeC,EAAf,CAAkBlB,IAAI,CAACmB,SAAL,CAAeC,WAAjC,EAA6C,KAAKC,UAAlD,EAA6D,IAA7D;AACA,eAAKJ,SAAL,CAAeC,EAAf,CAAkBlB,IAAI,CAACmB,SAAL,CAAeG,UAAjC,EAA4C,KAAKC,SAAjD,EAA2D,IAA3D;AACH;;AACDF,QAAAA,UAAU,CAACG,CAAD,EACV;AACI,eAAKC,MAAL,GAAcD,CAAC,CAACE,YAAF,EAAd;AACH;;AACDH,QAAAA,SAAS,CAACC,CAAD,EACT;AACI,cAAIG,GAAG,GAAGH,CAAC,CAACE,YAAF,KAAmB,KAAKD,MAAlC;AAEA,cAAIG,GAAG,GAAGxB,IAAI,EAAd;AACA,cAAIyB,GAAG,GAAGzB,IAAI,EAAd;AAEA,cAAI0B,EAAE,GAAGzB,IAAI,CAAC0B,IAAL,CAAUC,OAAV,CAAkBJ,GAAlB,EAAsBC,GAAtB,EAA0BF,GAAG,GAAC,IAA9B,CAAT;AACA,eAAKM,KAAL,CAAWC,MAAX,CAAkBJ,EAAlB;AACA,eAAKL,MAAL,GAAcD,CAAC,CAACE,YAAF,EAAd;AACH,SA3CuC,CA4CxC;AACA;AACA;;;AA9CwC,O;;;;;iBASnB,I;;;;;;;iBAER,I;;;;;;;iBAGI,I;;;;;;;iBAEL,I;;;AAiChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, Node, RenderTexture, Sprite, CameraComponent, quat, math } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = BagSHowModle\n * DateTime = Fri Oct 29 2021 15:54:56 GMT+0800 (中国标准时间)\n * Author = fywxk\n * FileBasename = bagSHowModle.ts\n * FileBasenameNoExtension = bagSHowModle\n * URL = db://assets/scripts/bagSHowModle.ts\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/zh/\n *\n */\n \n@ccclass('BagSHowModle')\nexport class BagSHowModle extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n    @property(RenderTexture)\n    text:RenderTexture = null;\n    @property(Node)\n    playr:Node = null;\n\n    @property(Sprite)\n    modleUI:Sprite = null;\n    @property(Node)\n    touchNode = null;\n\n    startX =0;\n\n    start () {\n        // [3]\n        this.node.getComponent(CameraComponent).targetTexture = this.text;\n\n        this.modleUI.spriteFrame.texture = this.text;\n\n        this.touchNode.on(Node.EventType.TOUCH_START,this.touchStart,this)\n        this.touchNode.on(Node.EventType.TOUCH_MOVE,this.touchMove,this)\n    }\n    touchStart(e)\n    {\n        this.startX = e.getLocationX();\n    }\n    touchMove(e)\n    {\n        let dis = e.getLocationX() - this.startX;\n\n        let qu1 = quat();\n        let qu2 = quat();\n        \n        let ro = math.Quat.rotateY(qu1,qu2,dis*0.01);\n        this.playr.rotate(ro);\n        this.startX = e.getLocationX();\n    }\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/zh/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}